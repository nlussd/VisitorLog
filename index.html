<!DOCTYPE html>
<html>

<head>
  <title>Face Detection App - ArcGIS Demo</title>
  <link rel="stylesheet" type="text/css" href="css/app.css">
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css" integrity="sha384-WskhaSGFgHYWDcbwN70/dfYBj47jz9qbsMId/iRN3ewGhXQFZCSftd1LZCfmhktB"
    crossorigin="anonymous">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.9.0/jquery.min.js"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/js/bootstrap.min.js" integrity="sha384-smHYKdLADwkXOn1EmN1qk/HfnUcbVRZyYmZ4qpPea6sjB/pTJ0euyQp0Mk8ck+5T"
    crossorigin="anonymous"></script>
  <script src="https://js.arcgis.com/3.24/"></script>

  <script>

    require([
      "script/face.js",
      "esri/request",
      "dojo/_base/json",
      "dojo/on",
      "dojo/dom",
      "dojo/domReady!"
    ],
      function (SpatialReference, esriRequest, dojoJson, on, dom) {


        $('#post').click(function () {

          var objPt = [{ "attributes": { "f1": "Front Office", "f2": gender, "f3": age, "f4": smile }, "geometry": { "x": 11889970.713866549, "y": -701701.1229169335 } }];

          var visitorPt = JSON.stringify(objPt);

          var layersRequest = esriRequest({
            url: "https://services8.arcgis.com/mpSDBlkEzjS62WgX/ArcGIS/rest/services/aLFYn/FeatureServer/0/addFeatures",
            content: {
              "features": visitorPt,
              "f": "json"
            }
          }, { "usePost": true });

          layersRequest.then(console.log('success'), console.log('error'));
        });


      });

  </script>


</head>

<body>

  <div class="title row">
    <div class="col-md-12" style="margin:0px; padding:40px;">
      <h1>Hello, Welcome to Our Campus!</h1>
      <h3>Front Office</h3>
    </div>
  </div>
  <div class="row">
    <div class="cam col-md-6" style="margin:0px; padding:10px;">
            <video style="width:90%;" autoplay>
      
            </video>
            <br>
            <button class="btn" id="snap">Take Picture</button>
    </div>
    <div class="cam col-md-6" style="margin:0px; padding:10px;">
        <div id="pic"></div>
        <button id="process" class="btn" onclick="uploadFile(blob)">Submit</button>
    </div>
  </div>
  <div class="row">
      <div class="col-md-12">
          <div id="result"></div>
      </div>
  </div>
  <div class="row">
      <div class="col-md-12" style="text-align: center;">
          <button id="post" class="btn" style="padding:10px; margin:10px; text-align:center;" disabled>Click to Open Door</button>
      </div>
    </div>
  
  

  <script type="text/javascript" src="script/cam.js"></script>
  <script type="text/javascript" src="script/face.js"></script>



</body>




</html>
